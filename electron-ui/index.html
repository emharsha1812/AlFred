<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self';
             connect-src http://127.0.0.1:8000;
             style-src 'self' https://fonts.googleapis.com 'unsafe-inline';
             font-src https://fonts.gstatic.com;
             script-src 'self';
             img-src 'self' data: blob:;"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>AIFred</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="terminal-window">
      <div class="title-bar">
        <div class="app-logo">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2L2 7L12 12L22 7L12 2Z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M2 17L12 22L22 17"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M2 12L12 17L22 12"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          AIFred
        </div>

        <div class="status-indicator">
          <div class="status-dot connecting" id="status-dot"></div>
          <span id="status-text">Connecting...</span>
        </div>

        <div class="model-selector-container">
          <label for="model-select">Model:</label>
          <select name="models" id="model-select" title="Select Ollama Model">
            <option value="">Loading...</option>
          </select>
          <button id="refresh-models-btn" title="Refresh Model List">
            &#x21bb;
          </button>
        </div>

        <div class="window-controls">
          <div
            class="window-control minimize"
            id="minimize-btn"
            title="Minimize"
          ></div>
          <div
            class="window-control maximize"
            id="maximize-btn"
            title="Maximize/Restore"
          ></div>
          <div class="window-control close" id="close-btn" title="Close"></div>
        </div>
      </div>
      <div id="main-container">
        <div id="output-area"></div>

        <div id="attachment-info" class="hidden">
          <span id="attachment-filename"></span>
          <button id="remove-attachment-btn" title="Remove Image">
            &times;
          </button>
        </div>

        <div id="input-container">
          <input
            type="file"
            id="image-upload-input"
            accept="image/*"
            style="display: none"
          />
          <button id="attach-button" title="Attach Image">ðŸ“Ž</button>

          <input
            type="text"
            id="input-field"
            placeholder="Send a message or attach an image..."
            autocomplete="off"
          />
          <button id="submit-button">Send</button>
        </div>
      </div>
    </div>
    <script src="./node_modules/marked/marked.min.js"></script>
    <script src="renderer.js"></script>
  </body>
</html>
